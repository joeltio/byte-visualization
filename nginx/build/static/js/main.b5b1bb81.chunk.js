(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{35:function(e,t,a){e.exports=a(92)},40:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),s=a.n(o),i=(a(40),a(31)),c=a(18),l=a.n(c),u=a(32),m=a(8),h=a(9),p=a(12),d=a(11),f=a(10),v=a(13),y=a(33),g=a.n(y),b=a(34),O=a.n(b),k=(a(30),function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"column is-half"},r.a.createElement("h1",null,"Recent Commits"),r.a.createElement(O.a,{style:{height:"800px",width:"600px"},keyField:"id",data:this.props.data,columns:this.props.columns,striped:!0}))}}]),t}(r.a.Component));k.defaultProps={data:[],columns:[]};a(90),a(91);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=3,E=8,x=["http://localhost:8080/commits/users","http://localhost:8080/commits/users","http://localhost:8080/commits/repos","http://localhost:8080/commits/repos","http://localhost:8080/commit-tags/".concat(15)],S=["User Commits Over Time - ".concat(w," hours"),"User Commits - Recent Hour","Repository Commits Over Time - ".concat(w," hours"),"Repository Commits Over Time - Recent Hour","Recent Commits"],N=0;function D(e){return e.slice(0,19).replace("T"," ")}function R(e){var t=new Date,a=new Date;return 0===e||2===e?(t.setHours(t.getHours()-w+8),a.setHours(a.getHours()+8),{start_date:D(t.toISOString()),end_date:D(a.toISOString()),intervals:E}):1===e||3===e?(t.setHours(t.getHours()-1+8),a.setHours(a.getHours()+8),{start_date:D(t.toISOString()),end_date:D(a.toISOString()),intervals:1}):0}var H=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={layout:{title:"Starting title",responsive:!0,xaxis:{title:"Time"},yaxis:{title:"Number of commits"}},data:[{x:["girafees","orangutans","monkeys"],y:[20,14,23],type:"bar"}],tableData:[],tableColumn:[{dataField:"id",text:"No.",sort:!0},{dataField:"name",text:"Name",sort:!0},{dataField:"repoName",text:"Repository Name",sort:!0},{dataField:"commitMessage",text:"Commit Message"}]},a.testClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("Mounted"),this.interval=setInterval((function(){return e.tick()}),1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"getGraphData",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(x[t],{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(R(t))});case 3:if((a=e.sent).ok){e.next=6;break}throw Error(a.statusText);case 6:return e.next=8,a.json();case 8:if(n=e.sent,console.log("Currently the index is ".concat(t," which heres to ").concat(x[t])),0===t||1===t)this.parseGenerics(n,"user");else if(2===t||3===t)this.parseGenerics(n,"repo");else if(4===t){for(r=[],o=0;o<n.logs.length;o++)r.push({id:o,name:n.logs[o][0],repoName:n.logs[o][1],commitMessage:n.logs[o][2]});this.setState({tableData:r})}e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:N===x.length-1?N=0:N++;case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"parseGenerics",value:function(e,t){var a=[],n=t+"_commits",r=t+"_info";if(e.time_intervals.length>1)Object.keys(e[n]).forEach((function(t){var o=e[r][t],s=e.time_intervals,i=e[n][t];a.push({name:o,x:s,y:i,type:"scatter",mode:"lines+markers"})}));else{var o=[],s=[];Object.keys(e[n]).forEach((function(t){o.push(e[r][t]),s.push(e[n][t][0])})),a.push({x:o,y:s,type:"bar"})}this.setState({data:a}),this.setState((function(e){return{layout:j({},e.layout,{title:S[N]})}}))}},{key:"tick",value:function(){this.getGraphData(N)}},{key:"handleClick",value:function(e){N=e,this.getGraphData(N)}},{key:"render",value:function(){var e,t=this;return e=N!==x.length-1?r.a.createElement(g.a,{data:this.state.data,layout:this.state.layout,style:{height:"100%",width:"100%"},useResizeHandler:!0}):r.a.createElement(k,{data:this.state.tableData,columns:this.state.tableColumn}),r.a.createElement("div",{id:"main",className:"is-mobile is-centered"},r.a.createElement("div",{className:"tabs is-fullwidth is-toggle"},r.a.createElement("ul",null,r.a.createElement("li",{className:0===N&&"is-active"},r.a.createElement("a",{onClick:function(){return t.handleClick(0)}},"User Commits Over Time - ",w," hours ")),r.a.createElement("li",{className:1===N&&"is-active"},r.a.createElement("a",{onClick:function(){return t.handleClick(1)}},"User Commits - Recent hour")),r.a.createElement("li",{className:2===N&&"is-active"},r.a.createElement("a",{onClick:function(){return t.handleClick(2)}},"Repository Commits Over Time - ",w," hours ")),r.a.createElement("li",{className:3===N&&"is-active"},r.a.createElement("a",{onClick:function(){return t.handleClick(3)}},"Repository Commits Over Time")),r.a.createElement("li",{className:4===N&&"is-active"},r.a.createElement("a",{onClick:function(){return t.handleClick(4)}},"Recent Commits")))),r.a.createElement("div",{style:{height:"90vh"}},e))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.b5b1bb81.chunk.js.map